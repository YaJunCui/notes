# 反垃圾邮件网关 需关闭邮件中继开启SMTP认证

在SMTP协议中的开放式转发(Open Relay)功能是电子邮件系统中最危险的安全缺陷之一。开放式转发功能的存在，使邮件可以任意转发，导致发件人完全不可追查。无论是技术手段还是法律手段都无法起作用。因此，关闭邮件服务器的开放式转发功能是整个反垃圾邮件网关的反垃圾技术体系的基础。在后面还会提到关闭中继转发功能也是将要重点介绍的内部可追查性检查技术的基础。

此外，在早期的电子邮件系统中设置开放式转发功能，是因为当时网络基础条件还比较差。发件服务器和收件服务器往往不能直连，必须要通过开放式转发来帮助邮件系统的邮件投递。而现在，网络基础设施建设已经比较完善了，发件和收件服务器不能直接连接的情况极少出现，邮件系统的正常运行也就不再需要开放式转发功能了，这也是关闭该功能的一个重要背景。

另外，关闭中继转发功能也是维护邮件服务器自身安全的必要工作。如果打开了中继转发功能的邮件服务器被垃圾邮件制造者利用来传播垃圾邮件，给他人带来了不便不说，也加重了邮件系统服务器自身工作的负担，导致网络资源的浪费，甚至可能会导致服务器被列人反垃圾邮件组织黑名单，带来服务器邮件被其他服务器拒收的后果。因此，即使只出于维护自身安全的目的，关闭邮件服务器上的中继转发功能也是非常重要。

关闭反垃圾邮件网关的中继转发功能和发件认证原本是两个概念，但一般都是一起使用的，因为仅仅关闭中继转发功能，邮件服务器就成为了封闭式转发服务器，具体说来，就是服务器只接受发到特定邮件域或从特定IP地址发来的邮件。如果该邮件服务器只用于接收邮件，这样当然没问题，但在实际使用中，大部分邮件服务器是同时用于发件和收件的，这就会导致正常用户也无法通过服务器发送邮件。这样显然是极不方便的，甚至可以说是基本不可用的。SMTP认证功能就是用来解决关闭中继转发服务器的发件问题的。打开该功能后，用户如果要通过该服务器对外发送邮件.首先必须先用合法的用户名和密码进行身份认证，认证通过后，就不再受封中继转发的限制，可以向任意的域发送邮件。这样关闭中继转发功能并增加了发件认证后，所有该邮件服务器的合法注册用户都可以任意发送邮件，而非本邮件服务器的邮件地址只能向该邮件服务器发送邮件，不能通过该邮件服务器向未允许的其他邮件域发送邮件。这就解决了安全性和合法用户正常功能之间的矛盾。
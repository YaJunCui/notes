# 第 3 章 系统设计

## 3.1 系统逻辑结构

![miniftpd逻辑结构](https://github.com/YaJunCui/notes/blob/master/images/ftp_miniftpd.png?raw=true)

vsftpd服务器使用的是 多进程 的方式实现的，每个客户端连接，服务端都会创建一个服务进程和一个nobody进程。为什么不使用多线程呢？

ftp服务器是绝对不能使用多线程实现的，主要是因为多线程共享同一进程的资源。

![miniftpd模块结构](https://github.com/YaJunCui/notes/blob/master/images/ftp_miniftpd_module.png?raw=true)